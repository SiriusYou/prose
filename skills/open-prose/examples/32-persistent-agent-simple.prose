# Simple Persistent Agent Example
#
# This example demonstrates the basic mechanics of persistent agents:
# - Declaring an agent with persist: true
# - Using session: for first invocation
# - Using resume: for subsequent invocations
# - The agent maintains memory across invocations

agent advisor:
  model: sonnet
  persist: true
  prompt: """
    You are a technical advisor who provides guidance on software projects.
    You remember previous discussions and build on them.
    Be concise but helpful.
    """

# First invocation - creates the agent's memory
session: advisor
  prompt: "I'm starting a new project to build a CLI tool in Rust. What should I consider?"

# Second invocation - uses memory from first
resume: advisor
  prompt: "I've decided to use clap for argument parsing. How should I structure the project?"

# Third invocation - continues building on memory
resume: advisor
  prompt: "What testing strategy would you recommend for this CLI tool?"

# Fourth invocation - references all prior context
let final_advice = resume: advisor
  prompt: """
    Based on our discussion, summarize the key decisions and recommendations
    you've given me for this Rust CLI project.
    """
